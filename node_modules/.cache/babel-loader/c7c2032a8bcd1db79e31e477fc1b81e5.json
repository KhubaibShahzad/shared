{"ast":null,"code":"import _classCallCheck from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/albatross/gitCode/shared/src/components/form/Currency.js\";\nimport React, { Component } from 'react';\nimport { Input, Icon } from 'antd';\nimport { number } from 'style-value-types';\nvar Currency = /*#__PURE__*/function (_Component) {\n  _inherits(Currency, _Component);\n  function Currency(props) {\n    var _this;\n    _classCallCheck(this, Currency);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Currency).call(this, props));\n    var propsVal = ('' + props.value).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    _this.state = {\n      value: propsVal,\n      numberVal: 0\n    };\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n  _createClass(Currency, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var formatVal = ('' + this.props.value).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n      if (formatVal == \"null\") {\n        formatVal = '';\n      }\n      this.setState({\n        value: formatVal\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.value == '' || prevProps.value) {\n        var prevVal;\n        var parseVal;\n        if (prevProps.value != null) {\n          parseVal = ('' + prevProps.value).replace(/\\$\\s?|(,*)/g, '');\n          prevVal = parseVal.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n          prevVal = Number(prevVal.replace(/[^0-9\\.-]+/g, \"\"));\n        }\n        var newVal;\n        if (this.props.value != null) {\n          parseVal = ('' + this.props.value).replace(/\\$\\s?|(,*)/g, '');\n          newVal = parseVal.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n          newVal = Number(newVal.replace(/[^0-9\\.-]+/g, \"\"));\n        }\n        if (prevVal != newVal) {\n          if (this.props.value != null || this.props.value != '') {\n            parseVal = ('' + this.props.value).replace(/\\$\\s?|(,*)/g, '');\n            var newvalue = parseVal.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n            if (newvalue == \"null\") {\n              newvalue = '';\n            }\n            this.setState({\n              value: newvalue\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"handleInputChange\",\n    value: function handleInputChange(event) {\n      event.preventDefault();\n      var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value; // this.handleFormInputChange(name, value);        \n      var parseValue = value.replace(/\\$\\s?|(,*)/g, '');\n      var newvalue = parseValue.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n      var numberVal = Number(newvalue.replace(/[^0-9\\.-]+/g, \"\"));\n      this.setState({\n        value: newvalue,\n        numberVal: numberVal\n      });\n      event.target.value = numberVal;\n      if (this.props.onChange) {\n        this.props.onChange(event);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        style: this.props.style ? this.props.style : null,\n        addonBefore: \"$\",\n        placeholder: \"#,###,###.##\",\n        value: this.state.value,\n        name: this.props.name,\n        onChange: this.handleInputChange,\n        disabled: this.props.disabled,\n        size: 'large',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n  return Currency;\n}(Component);\nexport default Currency;","map":{"version":3,"names":["React","Component","Input","Icon","number","Currency","props","propsVal","value","replace","state","numberVal","handleInputChange","bind","formatVal","setState","prevProps","prevVal","parseVal","Number","newVal","newvalue","event","preventDefault","target","name","parseValue","onChange","style","disabled"],"sources":["/home/albatross/gitCode/shared/src/components/form/Currency.js"],"sourcesContent":["import React, { Component } from 'react';\n\nimport { Input, Icon } from 'antd';\nimport { number } from 'style-value-types';\nclass Currency extends Component {    \n    constructor(props) {\n        super(props);\n        let propsVal = ('' + props.value).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n        \n        this.state = {\n            value: propsVal,\n            numberVal: 0\n        }\n\n        this.handleInputChange = this.handleInputChange.bind(this);\n    }\n\n    componentDidMount() {\n        let formatVal = ('' + this.props.value).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n        if(formatVal == \"null\"){\n            formatVal = '';\n        }\n        \n        this.setState({\n            value: formatVal\n        })\n    }\n\n    componentDidUpdate(prevProps){\n        if(prevProps.value == '' || prevProps.value){\n            var prevVal;\n            var parseVal;\n            if(prevProps.value != null){\n                parseVal = ('' + prevProps.value).replace(/\\$\\s?|(,*)/g, '');\n                prevVal = parseVal.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n                prevVal = Number(prevVal.replace(/[^0-9\\.-]+/g,\"\"));\n            }\n\n            var newVal;\n            if(this.props.value != null){\n                parseVal = ('' + this.props.value).replace(/\\$\\s?|(,*)/g, '');\n                newVal = parseVal.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n                newVal = Number(newVal.replace(/[^0-9\\.-]+/g,\"\"));\n            }\n            \n            if(prevVal != newVal){\n                if(this.props.value != null || this.props.value != ''){\n                    parseVal = ('' + this.props.value).replace(/\\$\\s?|(,*)/g, '');\n                    let newvalue = parseVal.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n                   \n                    if(newvalue == \"null\"){\n                        newvalue = '';\n                    }\n                    this.setState({\n                        value: newvalue\n                    })\n                }               \n    \n            }\n        }\n        \n    }\n\n    handleInputChange(event){\n        event.preventDefault();\n        const {name, value} = event.target;\n        // this.handleFormInputChange(name, value);        \n\n        let parseValue = value.replace(/\\$\\s?|(,*)/g, '');\n        let newvalue = parseValue.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\n        let numberVal = Number(newvalue.replace(/[^0-9\\.-]+/g,\"\"));\n\n        this.setState({\n            value: newvalue,\n            numberVal: numberVal\n        })\n\n        event.target.value = numberVal;\n        if(this.props.onChange){\n            this.props.onChange(event);\n        }\n        \n    }\n\n    render(){\n        return (            \n            <div>\n                <Input \n                    style={this.props.style ? this.props.style : null}\n                    addonBefore={\"$\"} \n                    placeholder=\"#,###,###.##\" \n                    value={this.state.value}\n                    name={this.props.name}\n                    onChange={this.handleInputChange}\n                    disabled={this.props.disabled}\n                    size={'large'}\n                />       \n            </div>\n        );\n    }\n}\n\nexport default Currency;"],"mappings":"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"},"metadata":{},"sourceType":"module"}