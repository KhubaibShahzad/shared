{"ast":null,"code":"import _classCallCheck from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _this = this,\n  _jsxFileName = \"/home/albatross/gitCode/shared/src/App.js\";\nimport React, { Component, Suspense } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Loadable from 'react-loadable';\nimport { routes } from './routes';\n\n// setup fake backend\nimport { configureFakeBackend } from './helpers';\nimport { isUserAuthenticated } from './helpers/authUtils';\n\n// Themes\nimport './assets/scss/DefaultTheme.scss';\nimport 'antd/dist/antd.css';\nimport './App.css';\nimport './CustomizeTheme.css';\nimport PageLayout from './components/PageLayout';\nimport Disaster from './pages/protector/disaster/Disaster';\nimport DisasterCreate from './pages/protector/disaster/operations/DisasterCreate';\n\n// Lazy loading and code splitting - \n// Derieved idea from https://blog.logrocket.com/lazy-loading-components-in-react-16-6-6cea535c0b52\nvar loading = function loading() {\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 23\n    }\n  });\n};\n\n// All layouts/containers\nvar NonAuthLayout = Loadable({\n  loader: function loader() {\n    return import('./components/NonAuthLayout');\n  },\n  render: function render(loaded, props) {\n    var Component = loaded.default;\n    return /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 12\n      }\n    }));\n  },\n  loading: loading\n});\nvar AuthLayout = Loadable({\n  loader: function loader() {\n    return import('./components/AuthLayout');\n  },\n  render: function render(loaded, props) {\n    var Component = loaded.default;\n    return /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 12\n      }\n    }));\n  },\n  loading: loading\n});\n\n// configure fake backend\n// configureFakeBackend();\n\n/**\n * Exports the component with layout wrapped to it\n * @param {} WrappedComponent \n */\nvar withLayout = function withLayout(WrappedComponent) {\n  var HOC = /*#__PURE__*/function (_Component) {\n    _inherits(HOC, _Component);\n    function HOC() {\n      _classCallCheck(this, HOC);\n      return _possibleConstructorReturn(this, _getPrototypeOf(HOC).apply(this, arguments));\n    }\n    _createClass(HOC, [{\n      key: \"render\",\n      value: function render() {\n        return /*#__PURE__*/React.createElement(WrappedComponent, Object.assign({}, this.props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 14\n          }\n        }));\n      }\n    }]);\n    return HOC;\n  }(Component);\n  return connect()(HOC);\n};\n\n/**\n * Main app component\n */\nvar App = /*#__PURE__*/function (_Component2) {\n  _inherits(App, _Component2);\n  function App() {\n    var _getPrototypeOf2;\n    var _this2;\n    _classCallCheck(this, App);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this2 = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this2.getLayout = function () {\n      // return isUserAuthenticated() ? AuthLayout : NonAuthLayout;\n      return PageLayout;\n    };\n    return _this2;\n  }\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      return (\n        /*#__PURE__*/\n        // rendering the router with layout\n        React.createElement(BrowserRouter, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 7\n          }\n        }, /*#__PURE__*/React.createElement(Switch, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 11\n          }\n        }, routes.map(function (route, index) {\n          return /*#__PURE__*/React.createElement(route.route, {\n            key: index,\n            path: route.path,\n            exact: true\n            // exact={route.exact}\n            ,\n            roles: route.roles,\n            disableRoles: route.disableRoles,\n            component: withLayout(function (props) {\n              var Layout = _this3.getLayout();\n              return /*#__PURE__*/React.createElement(Suspense, {\n                fallback: loading(),\n                __self: _this3,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 21\n                }\n              }, /*#__PURE__*/React.createElement(Layout, Object.assign({}, props, {\n                title: route.title,\n                route: route,\n                __self: _this3,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 23\n                }\n              }), /*#__PURE__*/React.createElement(route.component, Object.assign({}, props, {\n                __self: _this3,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 25\n                }\n              }))));\n            }),\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }\n          });\n        })))\n      );\n    }\n  }]);\n  return App;\n}(Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    // isAuthenticated: state.Auth.isAuthenticated\n  };\n};\nexport default connect(mapStateToProps, null)(App);","map":{"version":3,"names":["React","Component","Suspense","BrowserRouter","Route","Switch","connect","Loadable","routes","configureFakeBackend","isUserAuthenticated","PageLayout","Disaster","DisasterCreate","loading","NonAuthLayout","loader","render","loaded","props","default","AuthLayout","withLayout","WrappedComponent","HOC","App","getLayout","map","route","index","path","roles","disableRoles","Layout","title","mapStateToProps","state"],"sources":["/home/albatross/gitCode/shared/src/App.js"],"sourcesContent":["import React, { Component, Suspense } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Loadable from 'react-loadable';\n\nimport { routes } from './routes';\n\n// setup fake backend\nimport { configureFakeBackend } from './helpers';\nimport { isUserAuthenticated } from './helpers/authUtils';\n\n// Themes\nimport './assets/scss/DefaultTheme.scss';\nimport 'antd/dist/antd.css';\nimport './App.css';\nimport './CustomizeTheme.css';\n\nimport PageLayout from './components/PageLayout';\nimport Disaster from './pages/protector/disaster/Disaster'\nimport DisasterCreate from './pages/protector/disaster/operations/DisasterCreate'\n\n\n// Lazy loading and code splitting - \n// Derieved idea from https://blog.logrocket.com/lazy-loading-components-in-react-16-6-6cea535c0b52\nconst loading = () => <React.Fragment></React.Fragment>\n\n// All layouts/containers\nconst NonAuthLayout = Loadable({\n  loader: () => import('./components/NonAuthLayout'),\n  render(loaded, props) {\n    let Component = loaded.default;\n    return <Component {...props} />;\n  },\n  loading\n});\n\nconst AuthLayout = Loadable({\n  loader: () => import('./components/AuthLayout'),\n  render(loaded, props) {\n    let Component = loaded.default;\n    return <Component {...props} />;\n  },\n  loading\n});\n\n// configure fake backend\n// configureFakeBackend();\n\n/**\n * Exports the component with layout wrapped to it\n * @param {} WrappedComponent \n */\nconst withLayout = (WrappedComponent) => {\n  const HOC = class extends Component {\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  };\n\n  return connect()(HOC);\n}\n\n\n\n/**\n * Main app component\n */\nclass App extends Component {\n  /**\n * Returns the layout component based on different properties\n * @param {*} props \n */\n  getLayout = () => {\n    // return isUserAuthenticated() ? AuthLayout : NonAuthLayout;\n    return PageLayout;\n  }\n\n  render() {\n    return (\n      // rendering the router with layout\n      <BrowserRouter>\n        {/* <React.Fragment> */}\n          <Switch>\n            {/* <Route exact={true} path=\"/l\" component={Disaster}></Route>\n            <Route exact={true} path=\"/disaster/create\" component={DisasterCreate}></Route> */}\n\n          {routes.map((route, index) => {\n            return (\n              <route.route\n                key={index}\n                path={route.path}\n                exact={true}\n                // exact={route.exact}\n                roles={route.roles}\n                disableRoles={route.disableRoles}\n                component={withLayout(props => {\n                  const Layout = this.getLayout();\n                  return (\n                    <Suspense fallback={loading()}>\n                      <Layout {...props} title={route.title} route={route}>\n                        <route.component {...props} />\n                      </Layout>\n                    </Suspense>\n                  );\n                })}\n              />\n            );\n          })}\n          </Switch>\n        {/* </React.Fragment> */}\n      </BrowserRouter>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    // isAuthenticated: state.Auth.isAuthenticated\n  }\n}\n\nexport default connect(mapStateToProps, null)(App);"],"mappings":"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"},"metadata":{},"sourceType":"module"}