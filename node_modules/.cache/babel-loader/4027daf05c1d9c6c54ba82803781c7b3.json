{"ast":null,"code":"import _classCallCheck from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/albatross/gitCode/shared/src/pages/client_info/return_rates/ReturnRates.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport ROLES from 'constants/roles';\nimport { useMutation, useQuery } from '@apollo/react-hooks';\nimport { QL_RATES_OF_RETURN_GET } from '../../../constants/queries';\nimport { Button, Row, Col } from 'antd';\nimport StaticTable from './StaticTable';\nimport ProfessionalPredictionTable from './ProfessionalPredictionTable';\nimport UserDefinedReturnReport from './UserDefinedReturnReport';\nimport SimulationReport from './SimulationReport';\nfunction LoadDBDataHook(props) {\n  if (props.dbID != null && props.dbID != '') {\n    var _useQuery = useQuery(QL_RATES_OF_RETURN_GET, {\n        variables: {\n          id: props.dbID\n        }\n      }),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error;\n    if (data) {\n      console.log('call..');\n      props.cbLoadDBData(data['ratesOfReturn']);\n    }\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  });\n}\nvar ReturnRates = /*#__PURE__*/function (_Component) {\n  _inherits(ReturnRates, _Component);\n  function ReturnRates(props) {\n    var _this;\n    _classCallCheck(this, ReturnRates);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReturnRates).call(this, props));\n    var dbID = null;\n    var dbLoaded = true;\n    var ratesOfReturnID = '1';\n    if (ratesOfReturnID) {\n      dbID = ratesOfReturnID;\n      dbLoaded = false;\n    }\n    _this.state = {\n      dataID: dbID,\n      formData: {},\n      dbLoaded: dbLoaded,\n      dbID: dbID\n    };\n    _this.fnToggleModal = _this.fnToggleModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.loadDBData = _this.loadDBData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n  _createClass(ReturnRates, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"fnToggleModal\",\n    value: function fnToggleModal(modal) {\n      this.props.history.push('/rates_of_return_edit/1');\n    }\n  }, {\n    key: \"loadDBData\",\n    value: function loadDBData(formData) {\n      console.log('formData:', formData);\n      var instance = this;\n      setTimeout(function () {\n        instance.setState({\n          dbLoaded: true,\n          formData: formData\n        });\n      }, 100);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var navlinks = [{\n        href: '/',\n        title: 'Home'\n      }, {\n        href: '/client_info',\n        title: 'Client Info'\n      }];\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }\n      }, !this.state.dbLoaded && /*#__PURE__*/React.createElement(LoadDBDataHook, {\n        dbLoaded: this.state.dbLoaded,\n        dbID: this.state.dbID,\n        cbLoadDBData: this.loadDBData,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"page-nav-history\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"top-btns-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }\n      }, this.props.user.role != ROLES.VIEW_ONLY && /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        onClick: function onClick() {\n          return _this2.fnToggleModal();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }\n      }, \"Edit\")), !this.state.dbLoaded && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 45\n        }\n      }, \"Loading...\"), this.state.dbLoaded && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        gutter: 16,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        span: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(StaticTable, {\n        data: this.state.formData['ratesOfReturn'],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(ProfessionalPredictionTable, {\n        data: this.state.formData['ratesOfReturn'],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        span: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(UserDefinedReturnReport, {\n        data: this.state.formData['userDefinedRateOfReturns'],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(SimulationReport, {\n        data: this.state.formData['monteCarloRateOfReturns'],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 33\n        }\n      })))));\n    }\n  }]);\n  return ReturnRates;\n}(Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.rootReducer.loginUser.loginUserData\n  };\n};\nexport default connect(mapStateToProps, null)(ReturnRates);","map":{"version":3,"names":["React","Component","connect","Link","ROLES","useMutation","useQuery","QL_RATES_OF_RETURN_GET","Button","Row","Col","StaticTable","ProfessionalPredictionTable","UserDefinedReturnReport","SimulationReport","LoadDBDataHook","props","dbID","variables","id","data","loading","error","console","log","cbLoadDBData","ReturnRates","dbLoaded","ratesOfReturnID","state","dataID","formData","fnToggleModal","bind","loadDBData","modal","history","push","instance","setTimeout","setState","navlinks","href","title","user","role","VIEW_ONLY","mapStateToProps","rootReducer","loginUser","loginUserData"],"sources":["/home/albatross/gitCode/shared/src/pages/client_info/return_rates/ReturnRates.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport ROLES from 'constants/roles';\nimport { useMutation, useQuery } from '@apollo/react-hooks';\nimport {\n    QL_RATES_OF_RETURN_GET\n} from '../../../constants/queries';\n\nimport { Button, Row, Col } from 'antd';\nimport StaticTable from './StaticTable';\nimport ProfessionalPredictionTable from './ProfessionalPredictionTable';\nimport UserDefinedReturnReport from './UserDefinedReturnReport';\nimport SimulationReport from './SimulationReport';\n\nfunction LoadDBDataHook(props){\n    if(props.dbID != null && props.dbID != ''){\n        const {data, loading, error} = useQuery(QL_RATES_OF_RETURN_GET, { variables: { id: props.dbID} });\n        if(data){\n            console.log('call..');\n            props.cbLoadDBData(data['ratesOfReturn']);\n        }\n    }\n    \n    return (\n        <React.Fragment></React.Fragment>\n    )\n}\n\nclass ReturnRates extends Component {\n\n    constructor(props) {\n        super(props);\n\n        let dbID = null;\n        let dbLoaded = true;      \n\n        const ratesOfReturnID = '1';        \n\n        if( ratesOfReturnID ){\n            dbID = ratesOfReturnID;\n            dbLoaded = false;\n        }\n\n        this.state = {\n            dataID: dbID,\n            formData: {},\n            dbLoaded: dbLoaded,\n            dbID: dbID\n        }\n\n        this.fnToggleModal = this.fnToggleModal.bind(this);\n\n        this.loadDBData = this.loadDBData.bind(this);\n    }\n\n    componentDidMount() {\n    }\n\n    fnToggleModal(modal){\n        \n        this.props.history.push('/rates_of_return_edit/1');\n    }\n\n    loadDBData(formData){\n        console.log('formData:', formData);\n\n        var instance = this;\n        setTimeout(function(){\n            instance.setState({ \n                dbLoaded: true,\n                formData: formData\n            });\n        }, 100)        \n\n    }\n\n    render() {\n        const navlinks = [\n            {\n                href: '/',\n                title: 'Home'\n            },\n            {\n                href: '/client_info',\n                title: 'Client Info'\n            }\n        ]\n\n        return (\n            <React.Fragment>          \n                {\n                    !this.state.dbLoaded && \n                    <LoadDBDataHook \n                        dbLoaded={this.state.dbLoaded}\n                        dbID={this.state.dbID}\n                        cbLoadDBData={this.loadDBData}\n                    />\n                }      \n                <div className=\"page-nav-history\">\n                    {/* { \n                        navlinks.map((navlink, index) => {\n                            return (\n                                <span key={index}>\n                                    <Link key={index} to={navlink.href} className=\"page-nav-link\">\n                                        {navlink.title}\n                                    </Link>\n                                    {index != (navlinks.length - 1) ? \"/\" : null}\n                                </span>\n                                \n                            )                            \n                        }) \n                    } */}\n                </div>\n                <div className=\"top-btns-container\">\n                {\n                    this.props.user.role != ROLES.VIEW_ONLY &&   \n                    <Button type=\"primary\" onClick={() => this.fnToggleModal()}>Edit</Button>\n                }\n                </div>\n                {\n                    !this.state.dbLoaded && <div>Loading...</div>\n                }\n                {\n                    this.state.dbLoaded && \n                    <div>\n                        <Row gutter={16}>\n                            <Col span={12}>\n                                <StaticTable\n                                    data={this.state.formData['ratesOfReturn']}\n                                />\n                                <ProfessionalPredictionTable\n                                    data={this.state.formData['ratesOfReturn']}\n                                />\n                            </Col>\n                            <Col span={12}>\n                                <UserDefinedReturnReport\n                                    data={this.state.formData['userDefinedRateOfReturns']}\n                                />\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col>\n                                <SimulationReport\n                                    data={this.state.formData['monteCarloRateOfReturns']}\n                                />\n                            </Col>\n                        </Row>\n                    </div>\n                }\n            </React.Fragment>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        user: state.rootReducer.loginUser.loginUserData\n\n    }\n}\nexport default connect(mapStateToProps, null)(ReturnRates);"],"mappings":"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"},"metadata":{},"sourceType":"module"}