{"ast":null,"code":"import _classCallCheck from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/albatross/gitCode/shared/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/albatross/gitCode/shared/src/pages/reports/PrefessionalTeam/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\n/* *** Antd Components *** */\n\n/* *** Custom Components *** */\nimport PageTitle from '../../../components/layout/PageTitle';\nimport Synopsis from '../../../components/layout/Synopsis/Synopsis';\nimport PrefessionalTeamReport from './modals/PrefessionalTeamReport';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { QL_CLIENT_CONTACT_LIST } from '../../../constants/queries';\nimport Report from '../../../components/Report';\nimport { float2Currency } from 'helpers/Utils';\nfunction LoadDBDataHook(props) {\n  var _useQuery = useQuery(QL_CLIENT_CONTACT_LIST, {\n      notifyOnNetworkStatusChange: true\n    }),\n    data = _useQuery.data,\n    loading = _useQuery.loading,\n    error = _useQuery.error,\n    refetch = _useQuery.refetch,\n    networkStatus = _useQuery.networkStatus;\n  if (props.dbReload) {\n    console.log('reload..');\n    refetch();\n  }\n  props.cbUpdateNetworkStatus(networkStatus);\n  console.log('networkStatus:', networkStatus);\n  if (data) {\n    props.cbLoadDBData(networkStatus, data);\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  });\n}\nvar PrefessionalTeam = /*#__PURE__*/function (_Component) {\n  _inherits(PrefessionalTeam, _Component);\n  function PrefessionalTeam(props) {\n    var _this;\n    _classCallCheck(this, PrefessionalTeam);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PrefessionalTeam).call(this, props));\n    _this.state = {\n      total_assets: 0,\n      dbLoaded: false,\n      dbLoading: true,\n      report_rows: [],\n      dbReload: false,\n      networkStatus: 0\n    };\n    _this.loadDBData = _this.loadDBData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateNetworkStatus = _this.updateNetworkStatus.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n  _createClass(PrefessionalTeam, [{\n    key: \"loadDBData\",\n    value: function loadDBData(networkStatus, data) {\n      console.log('loadDBData:', data);\n      if (this.state.networkStatus == networkStatus) {\n        return;\n      }\n      var report_rows = [];\n      for (var index = 0; index < data['clientContacts'].length; index++) {\n        report_rows.push({\n          key: index,\n          id: data['clientContacts'][index]['id'],\n          name: data['clientContacts'][index]['firstName'] + ' ' + data['clientContacts'][index]['lastName'],\n          phone: data['clientContacts'][index]['primaryContactNumber'],\n          alternate_phone: data['clientContacts'][index]['secondaryContactNumber'],\n          email: data['clientContacts'][index]['email'],\n          relationship: data['clientContacts'][index]['relationship'],\n          profession: data['clientContacts'][index]['profession']\n        });\n      }\n      var instance = this;\n      setTimeout(function () {\n        instance.setState({\n          report_rows: report_rows,\n          dbLoading: false,\n          dbLoaded: true,\n          dbReload: false\n        });\n      }, 500);\n    }\n  }, {\n    key: \"updateNetworkStatus\",\n    value: function updateNetworkStatus(networkStatus) {\n      if (this.state.networkStatus != networkStatus) {\n        var instance = this;\n        setTimeout(function () {\n          instance.setState({\n            networkStatus: networkStatus\n          });\n        }, 1000);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var report_cols = [{\n        title: 'Name',\n        dataIndex: 'name',\n        key: 'name'\n      }, {\n        title: 'Phone',\n        dataIndex: 'phone',\n        key: 'phone'\n      }, {\n        title: 'Alternate Phone',\n        dataIndex: 'alternate_phone',\n        key: 'alternate_phone'\n      }, {\n        title: 'Email',\n        dataIndex: 'email',\n        key: 'email'\n      }, {\n        title: 'Relationship',\n        dataIndex: 'relationship',\n        key: 'relationship'\n      }, {\n        title: 'Profession',\n        dataIndex: 'profession',\n        key: 'profession'\n      }];\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(LoadDBDataHook, {\n        dbLoaded: this.state.dbLoaded,\n        dbReload: this.state.dbReload,\n        cbLoadDBData: this.loadDBData,\n        cbUpdateNetworkStatus: this.updateNetworkStatus,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pageWrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(PageTitle, {\n        title: \"Report - Prefessional Team\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Synopsis, {\n        content: \"Detailed listing of Prefessional Team\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"fragment-assitance-received\",\n        style: {\n          marginTop: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(PageTitle, {\n        title: \"Asset Details\",\n        level: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(Report, {\n        loading: this.state.dbLoading,\n        cols: report_cols,\n        rows: this.state.report_rows,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }\n      }))));\n    }\n  }]);\n  return PrefessionalTeam;\n}(Component);\nexport default connect()(PrefessionalTeam);","map":{"version":3,"names":["React","Component","connect","PageTitle","Synopsis","PrefessionalTeamReport","useQuery","useMutation","QL_CLIENT_CONTACT_LIST","Report","float2Currency","LoadDBDataHook","props","notifyOnNetworkStatusChange","data","loading","error","refetch","networkStatus","dbReload","console","log","cbUpdateNetworkStatus","cbLoadDBData","PrefessionalTeam","state","total_assets","dbLoaded","dbLoading","report_rows","loadDBData","bind","updateNetworkStatus","index","length","push","key","id","name","phone","alternate_phone","email","relationship","profession","instance","setTimeout","setState","report_cols","title","dataIndex","marginTop"],"sources":["/home/albatross/gitCode/shared/src/pages/reports/PrefessionalTeam/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n/* *** Antd Components *** */\n\n/* *** Custom Components *** */\nimport PageTitle from '../../../components/layout/PageTitle';\nimport Synopsis from '../../../components/layout/Synopsis/Synopsis';\nimport PrefessionalTeamReport from './modals/PrefessionalTeamReport';\n\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport {\n    QL_CLIENT_CONTACT_LIST\n} from '../../../constants/queries';\nimport Report from '../../../components/Report';\n\nimport {float2Currency} from 'helpers/Utils';\n\nfunction LoadDBDataHook(props){\n    const {data, loading, error, refetch, networkStatus } = useQuery(QL_CLIENT_CONTACT_LIST, { notifyOnNetworkStatusChange: true });\n    \n    if(props.dbReload){\n        console.log('reload..');\n        refetch();\n    }\n\n    props.cbUpdateNetworkStatus(networkStatus);\n    console.log('networkStatus:', networkStatus);\n    if(data){\n        props.cbLoadDBData(networkStatus, data);\n    }\n    \n    return (\n        <React.Fragment></React.Fragment>\n    )\n}\n\nclass PrefessionalTeam extends Component {\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            total_assets: 0,\n            dbLoaded: false,\n            dbLoading: true,\n            report_rows: [],\n            dbReload: false,\n            networkStatus: 0\n        }\n\n        this.loadDBData = this.loadDBData.bind(this);\n        this.updateNetworkStatus = this.updateNetworkStatus.bind(this);\n    }\n\n    loadDBData(networkStatus, data){        \n        console.log('loadDBData:', data);\n\n        if(this.state.networkStatus == networkStatus){\n            return;\n        }\n\n        var report_rows = [];\n\n        for(var index = 0; index < data['clientContacts'].length; index++){\n            report_rows.push(\n                {\n                    key: index,\n                    id: data['clientContacts'][index]['id'],\n                    name: data['clientContacts'][index]['firstName'] + ' ' + data['clientContacts'][index]['lastName'],\n                    phone: data['clientContacts'][index]['primaryContactNumber'],\n                    alternate_phone: data['clientContacts'][index]['secondaryContactNumber'],\n                    email: data['clientContacts'][index]['email'],\n                    relationship: data['clientContacts'][index]['relationship'],\n                    profession: data['clientContacts'][index]['profession'],\n                }\n            )\n        }\n        \n\n        var instance = this;\n        setTimeout(function(){\n            instance.setState({\n                report_rows: report_rows,\n                dbLoading: false,\n                dbLoaded: true,\n                dbReload: false\n            })\n        }, 500);\n        \n        \n    }\n\n    updateNetworkStatus(networkStatus){\n        if(this.state.networkStatus != networkStatus){\n            var instance = this;\n            setTimeout(function(){\n                instance.setState({\n                    networkStatus: networkStatus\n                });\n            }, 1000);\n        }\n    }\n\n    render() {\n        const report_cols = [\n            {\n              title: 'Name',\n              dataIndex: 'name',\n              key: 'name'\n            },\n            {\n              title: 'Phone',\n              dataIndex: 'phone',\n              key: 'phone',\n            },\n            {\n              title: 'Alternate Phone',\n              dataIndex: 'alternate_phone',\n              key: 'alternate_phone',\n            },\n            {\n                title: 'Email',\n                dataIndex: 'email',\n                key: 'email',\n            },\n            {\n                title: 'Relationship',\n                dataIndex: 'relationship',\n                key: 'relationship'\n            },\n            {\n                title: 'Profession',\n                dataIndex: 'profession',\n                key: 'profession'\n            }\n        ];\n        return (\n            <React.Fragment>\n                <LoadDBDataHook \n                    dbLoaded={this.state.dbLoaded}\n                    dbReload={this.state.dbReload}\n                    cbLoadDBData={this.loadDBData}\n                    cbUpdateNetworkStatus={this.updateNetworkStatus}\n                />\n                <div className=\"pageWrapper\">\n                    <PageTitle title=\"Report - Prefessional Team\" />\n                    <Synopsis content=\"Detailed listing of Prefessional Team\" />\n                    <div className=\"fragment-assitance-received\" style={{marginTop: 20}}>\n                        <PageTitle title=\"Asset Details\" level={4}/>\n                        <Report \n                            loading={this.state.dbLoading}\n                            cols={report_cols} \n                            rows={this.state.report_rows}\n                        ></Report>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\n\nexport default connect()(PrefessionalTeam);"],"mappings":"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"},"metadata":{},"sourceType":"module"}